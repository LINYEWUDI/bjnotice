<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.daowen.mapper.YingpianMapper">



    <select id="getEntityPlus" resultType="com.daowen.vo.YingpianVo" parameterType="hashmap">

        select y.*,lm.name as typename from yingpian y,ypcate lm
        where y.typeid=lm.id
        <if test=" typeid!=null ">
            and y.typeid=#{typeid}
        </if>
        <if test=" pubren!=null ">
            and y.pubren=#{pubren}
        </if>
        <if test=" state!=null ">
            and y.state=#{state}
        </if>
        <if test=" title!=null ">
            and y.title like '%${title}%'
        </if>
        order by y.id desc

    </select>

    <select id="loadPlus" resultType="com.daowen.vo.YingpianVo" parameterType="hashmap">

        select y.*,lm.name as typename from yingpian y,ypcate lm
        where y.typeid=lm.id
        <if test=" id!=null ">
            and y.id=#{id}
        </if>

    </select>


</mapper>